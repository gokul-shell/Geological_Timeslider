System.register(["jimu-core","jimu-core/dnd","jimu-ui","jimu-layouts/layout-runtime","jimu-for-builder","jimu-layouts/layout-builder","jimu-theme"],(function(e,t){var o={},n={},i={},r={},s={},d={},u={};return{setters:[function(e){o.BrowserSizeMode=e.BrowserSizeMode,o.React=e.React,o.css=e.css,o.getAppStore=e.getAppStore,o.jsx=e.jsx},function(e){n.interact=e.interact},function(e){i.Button=e.Button,i.ButtonGroup=e.ButtonGroup,i.Dropdown=e.Dropdown,i.DropdownButton=e.DropdownButton,i.DropdownItem=e.DropdownItem,i.DropdownMenu=e.DropdownMenu,i.Popper=e.Popper},function(e){r.searchUtils=e.searchUtils},function(e){s.getAppConfigAction=e.getAppConfigAction},function(e){d.GLOBAL_DRAGGING_CLASS_NAME=e.GLOBAL_DRAGGING_CLASS_NAME,d.GLOBAL_H5_DRAGGING_CLASS_NAME=e.GLOBAL_H5_DRAGGING_CLASS_NAME,d.GLOBAL_RESIZING_CLASS_NAME=e.GLOBAL_RESIZING_CLASS_NAME},function(e){u.withBuilderStyles=e.withBuilderStyles,u.withBuilderTheme=e.withBuilderTheme}],execute:function(){e((()=>{"use strict";var e={48891:e=>{e.exports=o},54020:e=>{e.exports=n},23137:e=>{e.exports=s},77282:e=>{e.exports=d},74758:e=>{e.exports=r},34796:e=>{e.exports=u},30726:e=>{e.exports=i}},t={};function l(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,l),i.exports}l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};return(()=>{l.r(p),l.d(p,{default:()=>u});var e=l(48891),t=l(54020),o=l(30726),n=l(74758),i=l(23137),r=l(77282);class s extends e.React.PureComponent{constructor(t){super(t),this.onDropDownToggle=e=>{e.stopPropagation();const{isDropDownOpen:t,onDropDownOpenChange:o}=this.props;if(void 0!==t)o&&o(!t);else{const{isOpen:e}=this.state;this.setState({isOpen:!e})}},this.onItemClick=(e,t)=>{const{isDropDownOpen:o,onDropDownOpenChange:n}=this.props;void 0!==o?n&&n(!1):this.setState({isOpen:!1}),t.event(e,t),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.onDropDownMouseClick=e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.getStyle=()=>{var t,o,n,i,r,s;const{theme:d}=this.props;return e.css`
      .card-toggle-button {
        background: ${null===(n=null===(o=null===(t=d.colors)||void 0===t?void 0:t.palette)||void 0===o?void 0:o.light)||void 0===n?void 0:n[500]};
        border: none;
        &:hover, &[aria-expanded="true"] {
          background: ${null===(s=null===(r=null===(i=d.colors)||void 0===i?void 0:i.palette)||void 0===r?void 0:r.light)||void 0===s?void 0:s[800]};
        }
      }
    `},this.state={isOpen:!1};const{withBuilderStyle:n}=t;this.MyDropdown=n?n(o.Dropdown):o.Dropdown,this.MyDropdownButton=n?n(o.DropdownButton):o.DropdownButton,this.MyDropdownMenu=n?n(o.DropdownMenu):o.DropdownMenu,this.MyDropdownItem=n?n(o.DropdownItem):o.DropdownItem}render(){const{items:t,toggleContent:o,toggleType:n,menuContent:i,modifiers:r,toggleIsIcon:s,theme:d,isDropDownOpen:u,size:l,appendToBody:p,toggleTitle:a,direction:c,menuCss:h,className:g,showActive:w,activeLabel:S,fluid:A}=this.props;let{isOpen:m}=this.state;m=void 0===u?m:u;const{MyDropdown:y,MyDropdownButton:B,MyDropdownMenu:I,MyDropdownItem:D}=this;return(0,e.jsx)(y,{size:l,toggle:this.onDropDownToggle,direction:c,fluid:A,isOpen:m,className:`my-dropdown ${g}`,css:this.getStyle()},o&&(0,e.jsx)(B,{icon:s,title:a,size:l,type:n,arrow:!1,className:"card-toggle-button"},o&&o(d)),(0,e.jsx)(I,{appendToBody:p,modifiers:r,css:h&&h(d)},i?i(d):t&&t.asMutable().map(((t,o)=>!t.hide&&(0,e.jsx)(D,{key:o,className:"no-user-select",active:w&&t.label===S,onClick:e=>{this.onItemClick(e,t)}},t.label)))))}}var d=l(34796);const u={ButtonGroup:o.ButtonGroup,interact:t.interact,searchUtils:n.searchUtils,getAppConfigAction:i.getAppConfigAction,GLOBAL_DRAGGING_CLASS_NAME:r.GLOBAL_DRAGGING_CLASS_NAME,GLOBAL_RESIZING_CLASS_NAME:r.GLOBAL_RESIZING_CLASS_NAME,GLOBAL_H5_DRAGGING_CLASS_NAME:r.GLOBAL_H5_DRAGGING_CLASS_NAME,withBuilderStyle:d.withBuilderStyles,withBuilderTheme:d.withBuilderTheme,BuilderDropDown:(0,d.withBuilderTheme)((t=>e.React.createElement(s,Object.assign({},t,{withBuilderStyle:d.withBuilderStyles})))),BuilderPopper:(0,d.withBuilderTheme)(o.Popper),BuilderButton:(0,d.withBuilderTheme)(o.Button),selectionIsSelf:(e,t,o)=>{if(!e||!e.layoutItemId||!e.layoutId)return!1;const i=n.searchUtils.findLayoutItem(o,e);return!(!i||!i.widgetId||i.widgetId!==t)},selectionInCard:(t,o,i,r=!0)=>{if(!t||!t.layoutItemId||!t.layoutId)return!1;let s;if(r)s=n.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(i,t,o,(0,e.getAppStore)().getState().browserSizeMode);else{s=[];const r=n.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(i,t,o,e.BrowserSizeMode.Large)||[],d=n.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(i,t,o,e.BrowserSizeMode.Medium)||[],u=n.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(i,t,o,e.BrowserSizeMode.Small)||[];s=s.concat(r),s=s.concat(d),s=s.concat(u)}return s.length>0&&!!(null==s?void 0:s[0])}}})(),p})())}}}));